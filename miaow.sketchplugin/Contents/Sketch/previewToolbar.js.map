{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/previewToolbar.js"],"names":["previewToolbar","context","i18","_","toolbar","pluginSketch","plugin","url","URLByAppendingPathComponent","identifier","threadDictionary","NSThread","mainThread","Toolbar2","i18nKey","lang","NSUserDefaults","standardUserDefaults","objectForKey","prefix","toString","getImage","size","name","isRetinaDisplay","NSScreen","mainScreen","backingScaleFactor","suffix","imageURL","image","NSImage","alloc","initWithContentsOfURL","addImage","rect","view","NSImageView","initWithFrame","setImage","addButton","callAction","button","NSButton","setBordered","sizeToFit","setButtonType","NSMomentaryChangeButton","setCOSJSTargetFunction","setAction","coscript","setShouldKeepAround","NSPanel","init","setStyleMask","NSTitledWindowMask","NSFullSizeContentViewWindowMask","setBackgroundColor","NSColor","colorWithRed_green_blue_alpha","setTitleVisibility","NSWindowTitleHidden","setTitlebarAppearsTransparent","locationx","frame","width","locationy","height","xlocation","setFrame_display","NSMakeRect","setMovableByWindowBackground","becomeKeyWindow","setLevel","NSFloatingWindowLevel","contentView","linkButton0","sender","addSubview","openUrlInBrowser","removeObjectForKey","close","linkButton","nowcontext","uploadContext","setIndex","linkButton2","setDialog","linkButton3","setBacks","linkButton4","setFixed","linkButton10","setNoBuild","linkButton11","showPreview","linkButton8","localPreview","linkButton9","webPreview","linkButton6","hidePreview","linkButton5","clearPreview","makeKeyAndOrderFront","nil","ga","Analytics","sendEvent","onRunPreviewToolBar"],"mappings":";;;;;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AAEA,SAASA,cAAT,CAAwBC,OAAxB,EAAiC;AAC7B,MAAIC,MAAMC,EAAEF,OAAF,EAAWG,OAArB;;AACA,MAAIC,eAAeJ,QAAQK,MAAR,CAAeC,GAAf,GAAqBC,2BAArB,CAAiD,UAAjD,EAA6DA,2BAA7D,CAAyF,QAAzF,EAAmGA,2BAAnG,CAA+H,SAA/H,CAAnB;AACA,MAAIC,aAAa,yCAAjB;AAAA,MACIC,mBAAmBC,SAASC,UAAT,GAAsBF,gBAAtB,EADvB;AAAA,MAEIG,WAAWH,iBAAiBD,UAAjB,CAFf;AAGA,MAAIK,UAAU,+BAAd;AACA,MAAIC,OAAOC,eAAeC,oBAAf,GAAsCC,YAAtC,CAAmDJ,OAAnD,CAAX;AACA,MAAIK,SAAS,MAAMJ,KAAKK,QAAL,EAAnB;;AAEA,WAASC,QAAT,CAAkBC,IAAlB,EAAwBC,IAAxB,EAA8B;AAC1B,QAAIC,kBAAkBC,SAASC,UAAT,GAAsBC,kBAAtB,KAA6C,CAA7C,GAAiD,IAAjD,GAAwD,KAA9E;AACA,QAAIC,SAASJ,kBAAkB,KAAlB,GAA0B,EAAvC;AACA,QAAIK,WAAWxB,aAAaG,2BAAb,CAAyC,UAAzC,EAAqDA,2BAArD,CAAiFe,OAAOK,MAAP,GAAgB,MAAjG,CAAf;AACA,QAAIE,QAAQC,QAAQC,KAAR,GAAgBC,qBAAhB,CAAsCJ,QAAtC,CAAZ;AACA,WAAOC,KAAP;AACH;;AAED,WAASI,QAAT,CAAkBC,IAAlB,EAAwBZ,IAAxB,EAA8B;AAC1B,QAAIa,OAAOC,YAAYL,KAAZ,GAAoBM,aAApB,CAAkCH,IAAlC,CAAX;AAAA,QACIL,QAAQT,SAASc,KAAKb,IAAd,EAAoBC,IAApB,CADZ;AAEAa,SAAKG,QAAL,CAAcT,KAAd;AACA,WAAOM,IAAP;AACH;;AAED,WAASI,SAAT,CAAmBL,IAAnB,EAAyBZ,IAAzB,EAA+BkB,UAA/B,EAA2C;AACvC,QAAIC,SAASC,SAASX,KAAT,GAAiBM,aAAjB,CAA+BH,IAA/B,CAAb;AAAA,QACIL,QAAQT,SAASc,KAAKb,IAAd,EAAoBC,IAApB,CADZ;AAEAmB,WAAOH,QAAP,CAAgBT,KAAhB;AACAY,WAAOE,WAAP,CAAmB,KAAnB;AACAF,WAAOG,SAAP;AACAH,WAAOI,aAAP,CAAqBC,uBAArB;AACAL,WAAOM,sBAAP,CAA8BP,UAA9B;AACAC,WAAOO,SAAP,CAAiB,aAAjB;AACA,WAAOP,MAAP;AACH;;AAED,MAAI,CAAC7B,QAAL,EAAe;AACXqC,aAASC,mBAAT,CAA6B,IAA7B;AACAtC,eAAWuC,QAAQpB,KAAR,GAAgBqB,IAAhB,EAAX;AACAxC,aAASyC,YAAT,CAAsBC,qBAAqBC,+BAA3C;AACA3C,aAAS4C,kBAAT,CAA4BC,QAAQC,6BAAR,CAAsC,IAAtC,EAA4C,IAA5C,EAAkD,IAAlD,EAAwD,CAAxD,CAA5B;AACA9C,aAAS+C,kBAAT,CAA4BC,mBAA5B;AACAhD,aAASiD,6BAAT,CAAuC,IAAvC;AAGA,QAAIC,YAAYtC,SAASC,UAAT,GAAsBsC,KAAtB,GAA8B1C,IAA9B,CAAmC2C,KAAnD;AACA,QAAIC,YAAYzC,SAASC,UAAT,GAAsBsC,KAAtB,GAA8B1C,IAA9B,CAAmC6C,MAAnD;AAEA,QAAIC,YAAY,EAAhB;AAGAvD,aAASwD,gBAAT,CAA0BC,WAAWP,SAAX,EAAsBG,SAAtB,EAAiC,GAAjC,EAAsC,GAAtC,CAA1B,EAAsE,KAAtE;AACArD,aAAS0D,4BAAT,CAAsC,IAAtC;AACA1D,aAAS2D,eAAT;AACA3D,aAAS4D,QAAT,CAAkBC,qBAAlB;AAGA,QAAIC,cAAc9D,SAAS8D,WAAT,EAAlB;AAIA,QAAIC,cAAcpC,UAAU8B,WAAW,EAAX,EAAe,GAAf,EAAoB,GAApB,EAAyB,EAAzB,CAAV,EAAwC,YAAYnD,MAApD,EACd,UAAU0D,MAAV,EAAkB,CAAE,CADN,CAAlB;AAGAF,gBAAYG,UAAZ,CAAuBF,WAAvB;AAEAA,kBAAcpC,UAAU8B,WAAW,EAAX,EAAe,EAAf,EAAmB,EAAnB,EAAuB,EAAvB,CAAV,EAAsC,YAAYnD,MAAlD,EACV,UAAU0D,MAAV,EAAkB,CAAE,CADV,CAAd;AAGAF,gBAAYG,UAAZ,CAAuBF,WAAvB;AAEAA,kBAAcpC,UAAU8B,WAAW,EAAX,EAAe,CAAf,EAAkB,GAAlB,EAAuB,CAAvB,CAAV,EAAqC,MAArC,EACV,UAAUO,MAAV,EAAkB,CAAE,CADV,CAAd;AAGAF,gBAAYG,UAAZ,CAAuBF,WAAvB;AAEAA,kBAAcpC,UAAU8B,WAAW,EAAX,EAAe,GAAf,EAAoB,EAApB,EAAwB,EAAxB,CAAV,EAAuC,MAAvC,EACV,UAAUO,MAAV,EAAkB;AACdE,uBAAiB,2DAAjB;AACH,KAHS,CAAd;AAKAJ,gBAAYG,UAAZ,CAAuBF,WAAvB;AAEAA,kBAAcpC,UAAU8B,WAAW,EAAX,EAAe,GAAf,EAAoB,EAApB,EAAwB,EAAxB,CAAV,EAAuC,OAAvC,EACV,UAAUO,MAAV,EAAkB;AACdnE,uBAAiBsE,kBAAjB,CAAoCvE,UAApC;AACAI,eAASoE,KAAT;AACH,KAJS,CAAd;AAMAN,gBAAYG,UAAZ,CAAuBF,WAAvB;AAIA,QAAIM,aAAa1C,UAAU8B,WAAWF,SAAX,EAAsB,GAAtB,EAA2B,EAA3B,EAA+B,EAA/B,CAAV,EAA8C,UAAUjD,MAAxD,EACb,UAAU0D,MAAV,EAAkB;AACd,UAAIM,aAAaC,cAAcnF,OAAd,CAAjB;AACAoF,eAASF,UAAT;AACH,KAJY,CAAjB;AAMAR,gBAAYG,UAAZ,CAAuBI,UAAvB;AACAd,gBAAYA,YAAY,EAAxB;AAEA,QAAIkB,cAAc9C,UAAU8B,WAAWF,SAAX,EAAsB,GAAtB,EAA2B,EAA3B,EAA+B,EAA/B,CAAV,EAA8C,UAAUjD,MAAxD,EACd,UAAU0D,MAAV,EAAkB;AACd,UAAIM,aAAaC,cAAcnF,OAAd,CAAjB;AACAsF,gBAAUJ,UAAV;AACH,KAJa,CAAlB;AAMAR,gBAAYG,UAAZ,CAAuBQ,WAAvB;AACAlB,gBAAYA,YAAY,EAAxB;AAEA,QAAIoB,cAAchD,UAAU8B,WAAWF,SAAX,EAAsB,GAAtB,EAA2B,EAA3B,EAA+B,EAA/B,CAAV,EAA8C,aAAajD,MAA3D,EACd,UAAU0D,MAAV,EAAkB;AACd,UAAIM,aAAaC,cAAcnF,OAAd,CAAjB;AACAwF,eAASN,UAAT;AACH,KAJa,CAAlB;AAMAR,gBAAYG,UAAZ,CAAuBU,WAAvB;AACApB,gBAAYA,YAAY,EAAxB;AAEA,QAAIsB,cAAclD,UAAU8B,WAAWF,SAAX,EAAsB,GAAtB,EAA2B,EAA3B,EAA+B,EAA/B,CAAV,EAA8C,UAAUjD,MAAxD,EACd,UAAU0D,MAAV,EAAkB;AACd,UAAIM,aAAaC,cAAcnF,OAAd,CAAjB;AACA0F,eAASR,UAAT;AACH,KAJa,CAAlB;AAMAR,gBAAYG,UAAZ,CAAuBY,WAAvB;AACAtB,gBAAYA,YAAY,EAAxB;AAEA,QAAIwB,eAAepD,UAAU8B,WAAWF,SAAX,EAAsB,GAAtB,EAA2B,EAA3B,EAA+B,EAA/B,CAAV,EAA8C,gBAAgBjD,MAA9D,EACf,UAAU0D,MAAV,EAAkB;AACd,UAAIM,aAAaC,cAAcnF,OAAd,CAAjB;AACA4F,iBAAWV,UAAX;AACH,KAJc,CAAnB;AAMAR,gBAAYG,UAAZ,CAAuBc,YAAvB;AAEAxB,gBAAY,EAAZ;AAEA,QAAI0B,eAAetD,UAAU8B,WAAWF,SAAX,EAAsB,EAAtB,EAA0B,EAA1B,EAA8B,EAA9B,CAAV,EAA6C,YAAYjD,MAAzD,EACf,UAAU0D,MAAV,EAAkB;AACd,UAAIM,aAAaC,cAAcnF,OAAd,CAAjB;AACA8F,kBAAYZ,UAAZ;AACH,KAJc,CAAnB;AAMAR,gBAAYG,UAAZ,CAAuBgB,YAAvB;AACA1B,gBAAYA,YAAY,EAAxB;AAEA,QAAI4B,cAAcxD,UAAU8B,WAAWF,SAAX,EAAsB,EAAtB,EAA0B,EAA1B,EAA8B,EAA9B,CAAV,EAA6C,UAAUjD,MAAvD,EACd,UAAU0D,MAAV,EAAkB;AACd,UAAIM,aAAaC,cAAcnF,OAAd,CAAjB;AACAgG,mBAAad,UAAb;AACH,KAJa,CAAlB;AAMAR,gBAAYG,UAAZ,CAAuBkB,WAAvB;AACA5B,gBAAYA,YAAY,EAAxB;AAEA,QAAI8B,cAAc1D,UAAU8B,WAAWF,SAAX,EAAsB,EAAtB,EAA0B,EAA1B,EAA8B,EAA9B,CAAV,EAA6C,WAAWjD,MAAxD,EACd,UAAU0D,MAAV,EAAkB;AACd,UAAIM,aAAaC,cAAcnF,OAAd,CAAjB;AACAkG,iBAAWhB,UAAX;AACH,KAJa,CAAlB;AAMAR,gBAAYG,UAAZ,CAAuBoB,WAAvB;AACA9B,gBAAYA,YAAY,EAAxB;AAEA,QAAIgC,cAAc5D,UAAU8B,WAAWF,SAAX,EAAsB,EAAtB,EAA0B,EAA1B,EAA8B,EAA9B,CAAV,EAA6C,SAASjD,MAAtD,EACd,UAAU0D,MAAV,EAAkB;AACd,UAAIM,aAAaC,cAAcnF,OAAd,CAAjB;AACAoG,kBAAYlB,UAAZ;AACH,KAJa,CAAlB;AAMAR,gBAAYG,UAAZ,CAAuBsB,WAAvB;AACAhC,gBAAYA,YAAY,EAAxB;AAEA,QAAIkC,cAAc9D,UAAU8B,WAAWF,SAAX,EAAsB,EAAtB,EAA0B,EAA1B,EAA8B,EAA9B,CAAV,EAA6C,WAAWjD,MAAxD,EACd,UAAU0D,MAAV,EAAkB;AACd,UAAIM,aAAaC,cAAcnF,OAAd,CAAjB;AACAsG,mBAAapB,UAAb;AACH,KAJa,CAAlB;AAMAR,gBAAYG,UAAZ,CAAuBwB,WAAvB;AAGA5F,qBAAiBD,UAAjB,IAA+BI,QAA/B;AACAA,aAAS2F,oBAAT,CAA8BC,GAA9B;AACA,QAAIC,KAAK,IAAIC,SAAJ,CAAc1G,OAAd,CAAT;AACA,QAAIyG,EAAJ,EAAQA,GAAGE,SAAH,CAAa,gBAAb,EAA+B,MAA/B;AACX,GAxJD,MAwJO;AACH;AACAlG,qBAAiBsE,kBAAjB,CAAoCvE,UAApC;AACAI,aAASoE,KAAT;AACH;AACJ;;AAED,IAAI4B,sBAAsB,SAAtBA,mBAAsB,CAAU5G,OAAV,EAAmB;AACzCD,iBAAeC,OAAf;AACH,CAFD,C","file":"previewToolbar.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/previewToolbar.js\");\n","// @import 'common.js';\n// @import 'commonPreview.js';\n// @import 'localPreview.js';\n// @import 'webPreview.js';\n// @import 'showPreview.js';\n\nfunction previewToolbar(context) {\n    var i18 = _(context).toolbar;\n    var pluginSketch = context.plugin.url().URLByAppendingPathComponent(\"Contents\").URLByAppendingPathComponent(\"Sketch\").URLByAppendingPathComponent(\"library\");\n    var identifier = \"com.sketchplugins.wechat.previewtoolbar\",\n        threadDictionary = NSThread.mainThread().threadDictionary(),\n        Toolbar2 = threadDictionary[identifier];\n    var i18nKey = \"com.sketchplugins.wechat.i18n\";\n    var lang = NSUserDefaults.standardUserDefaults().objectForKey(i18nKey);\n    var prefix = '-' + lang.toString();\n\n    function getImage(size, name) {\n        var isRetinaDisplay = NSScreen.mainScreen().backingScaleFactor() > 1 ? true : false;\n        var suffix = isRetinaDisplay ? '@2x' : '';\n        var imageURL = pluginSketch.URLByAppendingPathComponent(\"toolbar2\").URLByAppendingPathComponent(name + suffix + '.png');\n        var image = NSImage.alloc().initWithContentsOfURL(imageURL);\n        return image\n    }\n\n    function addImage(rect, name) {\n        var view = NSImageView.alloc().initWithFrame(rect),\n            image = getImage(rect.size, name);\n        view.setImage(image);\n        return view;\n    }\n\n    function addButton(rect, name, callAction) {\n        var button = NSButton.alloc().initWithFrame(rect),\n            image = getImage(rect.size, name);\n        button.setImage(image);\n        button.setBordered(false);\n        button.sizeToFit();\n        button.setButtonType(NSMomentaryChangeButton)\n        button.setCOSJSTargetFunction(callAction);\n        button.setAction(\"callAction:\");\n        return button;\n    }\n\n    if (!Toolbar2) {\n        coscript.setShouldKeepAround(true);\n        Toolbar2 = NSPanel.alloc().init();\n        Toolbar2.setStyleMask(NSTitledWindowMask + NSFullSizeContentViewWindowMask);\n        Toolbar2.setBackgroundColor(NSColor.colorWithRed_green_blue_alpha(0.92, 0.92, 0.92, 1));\n        Toolbar2.setTitleVisibility(NSWindowTitleHidden);\n        Toolbar2.setTitlebarAppearsTransparent(true);\n\n\n        var locationx = NSScreen.mainScreen().frame().size.width;\n        var locationy = NSScreen.mainScreen().frame().size.height;\n\n        var xlocation = 20;\n\n\n        Toolbar2.setFrame_display(NSMakeRect(locationx, locationy, 320, 210), false);\n        Toolbar2.setMovableByWindowBackground(true);\n        Toolbar2.becomeKeyWindow();\n        Toolbar2.setLevel(NSFloatingWindowLevel);\n\n\n        var contentView = Toolbar2.contentView();\n\n\n\n        var linkButton0 = addButton(NSMakeRect(20, 161, 161, 11), \"title-1\" + prefix,\n            function (sender) {});\n\n        contentView.addSubview(linkButton0);\n\n        linkButton0 = addButton(NSMakeRect(20, 73, 82, 11), \"title-2\" + prefix,\n            function (sender) {});\n\n        contentView.addSubview(linkButton0);\n\n        linkButton0 = addButton(NSMakeRect(97, 0, 320, 2), \"line\",\n            function (sender) {});\n\n        contentView.addSubview(linkButton0);\n\n        linkButton0 = addButton(NSMakeRect(50, 182, 14, 14), \"wiki\",\n            function (sender) {\n                openUrlInBrowser('https://github.com/weixin/WeSketch/wiki/%E2%92%92-PREVIEW');\n            });\n\n        contentView.addSubview(linkButton0);\n\n        linkButton0 = addButton(NSMakeRect(20, 180, 18, 18), \"close\",\n            function (sender) {\n                threadDictionary.removeObjectForKey(identifier);\n                Toolbar2.close();\n            });\n\n        contentView.addSubview(linkButton0);\n\n\n\n        var linkButton = addButton(NSMakeRect(xlocation, 107, 45, 45), \"start\" + prefix,\n            function (sender) {\n                var nowcontext = uploadContext(context);\n                setIndex(nowcontext);\n            });\n\n        contentView.addSubview(linkButton);\n        xlocation = xlocation + 60;\n\n        var linkButton2 = addButton(NSMakeRect(xlocation, 107, 45, 45), \"popup\" + prefix,\n            function (sender) {\n                var nowcontext = uploadContext(context);\n                setDialog(nowcontext);\n            });\n\n        contentView.addSubview(linkButton2);\n        xlocation = xlocation + 60;\n\n        var linkButton3 = addButton(NSMakeRect(xlocation, 107, 45, 45), \"linkback\" + prefix,\n            function (sender) {\n                var nowcontext = uploadContext(context);\n                setBacks(nowcontext);\n            });\n\n        contentView.addSubview(linkButton3);\n        xlocation = xlocation + 60;\n\n        var linkButton4 = addButton(NSMakeRect(xlocation, 107, 45, 45), \"fixed\" + prefix,\n            function (sender) {\n                var nowcontext = uploadContext(context);\n                setFixed(nowcontext);\n            });\n\n        contentView.addSubview(linkButton4);\n        xlocation = xlocation + 60;\n\n        var linkButton10 = addButton(NSMakeRect(xlocation, 107, 56, 45), \"transparent\" + prefix,\n            function (sender) {\n                var nowcontext = uploadContext(context);\n                setNoBuild(nowcontext);\n            });\n\n        contentView.addSubview(linkButton10);\n\n        xlocation = 20;\n\n        var linkButton11 = addButton(NSMakeRect(xlocation, 19, 45, 45), \"preview\" + prefix,\n            function (sender) {\n                var nowcontext = uploadContext(context);\n                showPreview(nowcontext);\n            });\n\n        contentView.addSubview(linkButton11);\n        xlocation = xlocation + 60;\n\n        var linkButton8 = addButton(NSMakeRect(xlocation, 19, 45, 45), \"local\" + prefix,\n            function (sender) {\n                var nowcontext = uploadContext(context);\n                localPreview(nowcontext);\n            });\n\n        contentView.addSubview(linkButton8);\n        xlocation = xlocation + 60;\n\n        var linkButton9 = addButton(NSMakeRect(xlocation, 19, 45, 45), \"online\" + prefix,\n            function (sender) {\n                var nowcontext = uploadContext(context);\n                webPreview(nowcontext);\n            });\n\n        contentView.addSubview(linkButton9);\n        xlocation = xlocation + 60;\n\n        var linkButton6 = addButton(NSMakeRect(xlocation, 19, 45, 45), \"hide\" + prefix,\n            function (sender) {\n                var nowcontext = uploadContext(context);\n                hidePreview(nowcontext);\n            });\n\n        contentView.addSubview(linkButton6);\n        xlocation = xlocation + 60;\n\n        var linkButton5 = addButton(NSMakeRect(xlocation, 19, 45, 45), \"delete\" + prefix,\n            function (sender) {\n                var nowcontext = uploadContext(context);\n                clearPreview(nowcontext);\n            });\n\n        contentView.addSubview(linkButton5);\n\n\n        threadDictionary[identifier] = Toolbar2;\n        Toolbar2.makeKeyAndOrderFront(nil);\n        var ga = new Analytics(context);\n        if (ga) ga.sendEvent('previewToolbar', 'open');\n    } else {\n        // coscript.setShouldKeepAround(false);\n        threadDictionary.removeObjectForKey(identifier);\n        Toolbar2.close();\n    }\n}\n\nvar onRunPreviewToolBar = function (context) {\n    previewToolbar(context);\n}"],"sourceRoot":""}