{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/toolbar.js"],"names":["toolbar","context","auto","i18","_","i18nKey","lang","NSUserDefaults","standardUserDefaults","objectForKey","prefix","toString","toolbarAutoShow","toolbarAuto","pluginSketch","plugin","url","URLByAppendingPathComponent","getImage","size","name","isRetinaDisplay","NSScreen","mainScreen","backingScaleFactor","suffix","imageURL","image","NSImage","alloc","initWithContentsOfURL","addImage","rect","view","NSImageView","initWithFrame","setImage","addButton","callAction","button","NSButton","setBordered","sizeToFit","setButtonType","NSMomentaryChangeButton","setCOSJSTargetFunction","setAction","manifestPath","path","manifest","NSJSONSerialization","JSONObjectWithData_options_error","NSData","dataWithContentsOfFile","NSJSONReadingMutableContainers","nil","commands","obj","i","length","istool","push","identifier","threadDictionary","NSThread","mainThread","Toolbar","coscript","setShouldKeepAround","NSPanel","init","setStyleMask","NSTitledWindowMask","NSFullSizeContentViewWindowMask","setBackgroundColor","NSColor","colorWithRed_green_blue_alpha","setTitleVisibility","NSWindowTitleHidden","setTitlebarAppearsTransparent","toolbarwidth","locationx","frame","height","setFrame_display","NSMakeRect","setMovableByWindowBackground","becomeKeyWindow","setLevel","NSFloatingWindowLevel","join","contentView","closeButton","sender","removeObjectForKey","close","settingsWindow","dialog","addButtonWithTitle","m1","m2","setMessageText","m3","addTextLabelWithValue","m4","m5","response","runModal","setObject_forKey","addSubview","miaowButton","openUrlInBrowser","xlocation","indexOf","linkButton","nowcontext","uploadContext","getLink","flagButton","getFlag","sortingLayers","iconButton","iconQ","syncuiButton","syncUIkit","synccolorButton","syncColor","textButton","textReplace","colorButton","colorReplace","fontButton","fontReplace","fontCharacters","cutButton","exportSlice","codecolorButton","codeC","codestyleButton","codeS","previewToolbarButton","previewToolbar","makeKeyAndOrderFront","ga","Analytics","sendEvent","onRunToolBar"],"mappings":"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","file":"toolbar.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/toolbar.js\");\n","// @import 'common.js';\n// @import 'flag.js';\n// @import 'link.js';\n// @import 'fontReplace.js';\n// @import 'fontCharacters.js';\n// @import 'textReplace.js';\n// @import 'colorReplace.js';\n// @import 'iconQ.js';\n// @import 'syncUIkit.js';\n// @import 'syncColor.js';\n// @import 'exportSlice.js';\n// @import 'codeStyle.js';\n// @import 'codeColor.js';\n// @import 'previewToolbar.js';\n// @import 'sortingLayers.js';\n\n\nexport function toolbar(context, auto) {\n    var i18 = _(context).toolbar;\n    var i18nKey = \"com.sketchplugins.wechat.i18n\";\n    var lang = NSUserDefaults.standardUserDefaults().objectForKey(i18nKey);\n    var prefix = '-' + lang.toString();\n\n    var toolbarAutoShow = \"com.sketchplugins.wechat.toolbarautoshow\";\n    var toolbarAuto = NSUserDefaults.standardUserDefaults().objectForKey(toolbarAutoShow) || '';\n\n\n    var pluginSketch = context.plugin.url().URLByAppendingPathComponent(\"Contents\").URLByAppendingPathComponent(\"Sketch\").URLByAppendingPathComponent(\"library\");\n\n    function getImage(size, name) {\n        var isRetinaDisplay = NSScreen.mainScreen().backingScaleFactor() > 1 ? true : false;\n        var suffix = isRetinaDisplay ? '@2x' : '';\n        var imageURL = pluginSketch.URLByAppendingPathComponent(\"toolbar\").URLByAppendingPathComponent(name + suffix + '.png');\n        var image = NSImage.alloc().initWithContentsOfURL(imageURL);\n        return image\n    }\n\n    function addImage(rect, name) {\n        var view = NSImageView.alloc().initWithFrame(rect),\n            image = getImage(rect.size, name);\n        view.setImage(image);\n        return view;\n    }\n\n    function addButton(rect, name, callAction) {\n        var button = NSButton.alloc().initWithFrame(rect),\n            image = getImage(rect.size, name);\n        button.setImage(image);\n        button.setBordered(false);\n        button.sizeToFit();\n        button.setButtonType(NSMomentaryChangeButton)\n        button.setCOSJSTargetFunction(callAction);\n        button.setAction(\"callAction:\");\n        return button;\n    }\n\n    var manifestPath = context.plugin.url().URLByAppendingPathComponent(\"Contents\").URLByAppendingPathComponent(\"Sketch\").URLByAppendingPathComponent(\"manifest.json\").path(),\n        manifest = NSJSONSerialization.JSONObjectWithData_options_error(NSData.dataWithContentsOfFile(manifestPath), NSJSONReadingMutableContainers, nil),\n        commands = manifest.commands;\n\n    var obj = [];\n    for (var i = 0; i < commands.length; i++) {\n        if (commands[i].istool == 'true') {\n            obj.push(commands[i].identifier);\n        }\n    }\n\n    var identifier = \"com.sketchplugins.wechat.toolbar\",\n        threadDictionary = NSThread.mainThread().threadDictionary(),\n        Toolbar = threadDictionary[identifier];\n\n    if (!Toolbar) {\n        coscript.setShouldKeepAround(true);\n        Toolbar = NSPanel.alloc().init();\n        Toolbar.setStyleMask(NSTitledWindowMask + NSFullSizeContentViewWindowMask);\n        Toolbar.setBackgroundColor(NSColor.colorWithRed_green_blue_alpha(1, 1, 1, 1));\n        Toolbar.setTitleVisibility(NSWindowTitleHidden);\n        Toolbar.setTitlebarAppearsTransparent(true);\n\n\n        var toolbarwidth = (obj.length * 56) + 65;\n\n        var locationx = 0;\n        locationx = NSScreen.mainScreen().frame().size.height - 162;\n        \n\n        Toolbar.setFrame_display(NSMakeRect(285, locationx, toolbarwidth, 85), false);\n        Toolbar.setMovableByWindowBackground(true);\n        Toolbar.becomeKeyWindow();\n        Toolbar.setLevel(NSFloatingWindowLevel);\n        obj = obj.join(',');\n\n\n        var contentView = Toolbar.contentView();\n        var closeButton = addButton(NSMakeRect(20, 53, 11, 11), \"close\",\n            function (sender) {\n                coscript.setShouldKeepAround(false);\n                threadDictionary.removeObjectForKey(identifier);\n                Toolbar.close();\n                if (toolbarAuto != 'false') {\n                    var settingsWindow = dialog(context);\n                    settingsWindow.addButtonWithTitle(i18.m1);\n                    settingsWindow.addButtonWithTitle(i18.m2);\n                    settingsWindow.setMessageText(i18.m3);\n                    settingsWindow.addTextLabelWithValue(i18.m4);\n                    settingsWindow.addTextLabelWithValue(i18.m5);\n                    var response = settingsWindow.runModal();\n                    if (response == \"1000\") {\n                        NSUserDefaults.standardUserDefaults().setObject_forKey('true', toolbarAutoShow);\n                    } else {\n                        NSUserDefaults.standardUserDefaults().setObject_forKey('false', toolbarAutoShow);\n                    }\n                }\n            });\n        contentView.addSubview(closeButton);\n\n        // var wikiButton = addButton(NSMakeRect(60, 40, 15, 15), \"wiki\",\n        //     function (sender) {\n        //         openUrlInBrowser('https://github.com/weixin/wesketch/wiki');\n        //     });\n        // contentView.addSubview(wikiButton);\n\n        var miaowButton = addButton(NSMakeRect(0, 11, 120, 66), \"miaow\",\n        function (sender) {\n            openUrlInBrowser('https://github.com/weixin/wesketch');\n        });\n        contentView.addSubview(miaowButton);\n\n        var xlocation = 50;\n\n        if (obj.indexOf('link') > -1) {\n            var linkButton = addButton(NSMakeRect(xlocation + 3, 19, 46, 46), \"link\" + prefix,\n                function (sender) {\n                    var nowcontext = uploadContext(context);\n                    getLink(nowcontext);\n                });\n\n            contentView.addSubview(linkButton);\n            xlocation = xlocation + 56;\n        }\n\n        if (obj.indexOf('flag') > -1) {\n\n            var flagButton = addButton(NSMakeRect(xlocation + 3, 19, 46, 46), \"flag\" + prefix,\n                function (sender) {\n                    var nowcontext = uploadContext(context);\n                    getFlag(nowcontext);\n                });\n            contentView.addSubview(flagButton);\n            xlocation = xlocation + 56;\n        }\n\n        if (obj.indexOf('sortingLayers') > -1) {\n\n            var flagButton = addButton(NSMakeRect(xlocation + 3, 19, 46, 46), \"sorting\" + prefix,\n                function (sender) {\n                    var nowcontext = uploadContext(context);\n                    sortingLayers(nowcontext);\n                });\n            contentView.addSubview(flagButton);\n            xlocation = xlocation + 56;\n        }\n\n        if (obj.indexOf('iconQ') > -1) {\n            var iconButton = addButton(NSMakeRect(xlocation + 3, 19, 46, 46), \"icon\" + prefix,\n                function (sender) {\n                    var nowcontext = uploadContext(context);\n                    iconQ(nowcontext);\n                });\n            contentView.addSubview(iconButton);\n            xlocation = xlocation + 56;\n        }\n\n        if (obj.indexOf('syncuikit') > -1) {\n            var syncuiButton = addButton(NSMakeRect(xlocation + 3, 19, 46, 46), \"syncui\" + prefix,\n                function (sender) {\n                    var nowcontext = uploadContext(context);\n                    syncUIkit(nowcontext);\n                });\n            contentView.addSubview(syncuiButton);\n            xlocation = xlocation + 56;\n        }\n\n\n        if (obj.indexOf('synccolor') > -1) {\n            var synccolorButton = addButton(NSMakeRect(xlocation + 3, 19, 46, 46), \"synccolor\" + prefix,\n                function (sender) {\n                    var nowcontext = uploadContext(context);\n                    syncColor(nowcontext);\n                });\n            contentView.addSubview(synccolorButton);\n            xlocation = xlocation + 56;\n        }\n\n        if (obj.indexOf('textReplace') > -1) {\n            var textButton = addButton(NSMakeRect(xlocation + 3, 19, 46, 46), \"text\" + prefix,\n                function (sender) {\n                    var nowcontext = uploadContext(context);\n                    textReplace(nowcontext);\n                });\n\n            contentView.addSubview(textButton);\n            xlocation = xlocation + 56;\n        }\n\n        if (obj.indexOf('colorReplace') > -1) {\n            var colorButton = addButton(NSMakeRect(xlocation + 3, 19, 46, 46), \"color\" + prefix,\n                function (sender) {\n                    var nowcontext = uploadContext(context);\n                    colorReplace(nowcontext);\n                });\n            contentView.addSubview(colorButton);\n            xlocation = xlocation + 56;\n        }\n\n        if (obj.indexOf('fontReplace') > -1) {\n            var fontButton = addButton(NSMakeRect(xlocation + 3, 19, 46, 46), \"font\" + prefix,\n                function (sender) {\n                    var nowcontext = uploadContext(context);\n                    fontReplace(nowcontext);\n                });\n            contentView.addSubview(fontButton);\n            xlocation = xlocation + 56;\n        }\n\n        if (obj.indexOf('fontCharacters') > -1) {\n            var fontButton = addButton(NSMakeRect(xlocation + 3, 19, 47, 46), \"fontCharacters\" + prefix,\n                function (sender) {\n                    var nowcontext = uploadContext(context);\n                    fontCharacters(nowcontext);\n                });\n            contentView.addSubview(fontButton);\n            xlocation = xlocation + 55;\n        }\n\n\n        if (obj.indexOf('exportSlice') > -1) {\n            var cutButton = addButton(NSMakeRect(xlocation + 3, 19, 46, 46), \"cut\" + prefix,\n                function (sender) {\n                    var nowcontext = uploadContext(context);\n                    exportSlice(nowcontext);\n                });\n            contentView.addSubview(cutButton);\n            xlocation = xlocation + 56;\n        }\n\n        if (obj.indexOf('codeColor') > -1) {\n            var codecolorButton = addButton(NSMakeRect(xlocation + 3, 19, 46, 46), \"codecolor\" + prefix,\n                function (sender) {\n                    var nowcontext = uploadContext(context);\n                    codeC(nowcontext);\n                });\n            contentView.addSubview(codecolorButton);\n            xlocation = xlocation + 56;\n        }\n\n        if (obj.indexOf('codeStyle') > -1) {\n            var codestyleButton = addButton(NSMakeRect(xlocation + 3, 19, 46, 46), \"codestyle\" + prefix,\n                function (sender) {\n                    var nowcontext = uploadContext(context);\n                    codeS(nowcontext);\n                });\n            contentView.addSubview(codestyleButton);\n            xlocation = xlocation + 56;\n        }\n\n        if (obj.indexOf('previewToolbar') > -1) {\n            var previewToolbarButton = addButton(NSMakeRect(xlocation + 3, 19, 46, 46), \"preview\" + prefix,\n                function (sender) {\n                    var nowcontext = uploadContext(context);\n                    previewToolbar(nowcontext);\n                });\n\n            contentView.addSubview(previewToolbarButton);\n            xlocation = xlocation + 56;\n        }\n\n\n        threadDictionary[identifier] = Toolbar;\n        Toolbar.makeKeyAndOrderFront(nil);\n        var ga = new Analytics(context);\n        if (ga) ga.sendEvent('toolbar', 'open');\n    } else if (Toolbar && !auto) {\n        threadDictionary.removeObjectForKey(identifier);\n        Toolbar.close();\n    }\n}\n\nvar onRunToolBar = function (context) {\n    toolbar(context);\n}"],"sourceRoot":""}